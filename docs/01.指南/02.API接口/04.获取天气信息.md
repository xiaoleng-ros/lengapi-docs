---
title: è·å–å¤©æ°”ä¿¡æ¯
date: 2025-04-20 18:23:10
permalink: /pages/85ae47/
---
### æ¥å£ä¿¡æ¯

- æ¥å£çŠ¶æ€ ï¼š <Badge text="æ­£å¸¸"/>
- è¯·æ±‚æ–¹å¼ ï¼š`GET`
- è¿”å›æ ¼å¼ ï¼š`JSON`

### è¯·æ±‚åœ°å€ 
```shell
https://api.iceuu.icu/api/weather
```

### è¯·æ±‚å‚æ•° 

| å‚æ•°å  | å¿…é€‰ |   ç±»å‹   | æè¿° |
|:----:|:--:|:------:|:--:|
| city | æ˜¯  | string | åŸå¸‚ |

### å“åº”å‚æ•° 

|         å‚æ•°åç§°         |   ç±»å‹   |    æè¿°    |
|:--------------------:|:------:|:--------:|
|         code         |  int   |   å“åº”ç     |
|         city         | string |   åŸå¸‚åç§°   |
|      info.date       | string |    æ—¥æœŸ    |
|      info.week       | string |   æ˜ŸæœŸå‡     |
|      info.type       | string |   å¤©æ°”ç±»å‹   |
|       info.low       | string |   æœ€ä½æ¸©åº¦   |
|      info.high       | string |   æœ€é«˜æ¸©åº¦   |
|    info.fengxiang    | string |    é£å‘    |
|     info.fengli      | string |    é£åŠ›    |
|   info.night.type    | string |  å¤œé—´å¤©æ°”ç±»å‹  |
| info.night.fengxiang | string |   å¤œé—´é£å‘   |
|  info.night.fengli   | string |   å¤œé—´é£åŠ›   |
|     info.air.aqi     |  int   |  ç©ºæ°”è´¨é‡æŒ‡æ•°  |
|  info.air.aqi_level  |  int   | ç©ºæ°”è´¨é‡æŒ‡æ•°çº§åˆ« |
|  info.air.aqi_name   | string | ç©ºæ°”è´¨é‡æŒ‡æ•°åç§° |
|     info.air.co      | string |  ä¸€æ°§åŒ–ç¢³æµ“åº¦  |
|     info.air.no2     | string |  äºŒæ°§åŒ–æ°®æµ“åº¦  |
|     info.air.o3      | string |   è‡­æ°§æµ“åº¦   |
|    info.air.pm10     | string |  PM10æµ“åº¦  |
|    info.air.pm2.5    | string | PM2.5æµ“åº¦  |
|     info.air.so2     | string |  äºŒæ°§åŒ–ç¡«æµ“åº¦  |
|       info.tip       | string |   æç¤ºä¿¡æ¯   |
|       message        | string |   å“åº”æè¿°   |

### ä»£ç ç¤ºä¾‹

::: tip æ³¨æ„ ğŸ””ï¸
æ²¡æœ‰å¼€å‘è€…è°ƒç”¨å‡­è¯æ— æ³•è°ƒç”¨æ¥å£å“¦ï¼ï¼ï¼ [å‰å¾€è·å–å¼€å‘è€…å‡­è¯](https://api.iceuu.icu/)
:::

**æ³¨å…¥Service**

```java
@Resource
private ApiService apiService;
```

- **ç¤ºä¾‹ä¸€ ï¼šæ¨èğŸ‘**

**é€šè¿‡ymlé…ç½®å¼€å‘è€…è°ƒç”¨å‡­è¯**

```java
@GetMapping("/weather")
public ResultResponse getWeatherInfo(WeatherParams weatherParams) {
    ResultResponse resultResponse;
    try {
        WeatherRequest weatherRequest = new WeatherRequest();
        weatherRequest.setRequestParams(weatherParams);
        resultResponse = apiService.getWeatherInfo(weatherRequest);
    } catch (ApiException e) {
        throw new BusinessException(e.getCode(), e.getMessage());
    }
    return resultResponse;
}
```

```json
{
  "data": {
    "date": "2025-01-20",
    "week": "æ˜ŸæœŸæ—¥",
    "type": "å¤šäº‘",
    "low": "21Â°C",
    "high": "33Â°C",
    "fengxiang": "å¾®é£",
    "fengli": "1-3çº§",
    "night": {
      "type": "å¤šäº‘",
      "fengxiang": "å¾®é£",
      "fengli": "1-3çº§"
    }
  },
  "city": "æˆéƒ½å¸‚",
  "success": true,
  "tip": "-",
  "air": {
    "aqi": 64,
    "aqi_level": 2,
    "aqi_name": "è‰¯",
    "co": "0.6",
    "no2": "10",
    "o3": "171",
    "pm10": "50",
    "pm2.5": "26",
    "so2": "6"
  }
}
```

- ç¤ºä¾‹äºŒï¼š

```Java
@GetMapping("/weatherInfo/setKey")
public ResultResponse getWeatherInfoSetKey(WeatherParams weatherParams) {
    ResultResponse resultResponse;
    LengApiClient lengApiClient = new LengApiClient("2aee89c3d2b4c4fad7c10c0a609789fb", "9cb8ab5c6704096b860f921b8af8af11");
    try {
        WeatherRequest weatherRequest = new WeatherRequest();
        weatherRequest.setRequestParams(weatherParams);
        resultResponse = apiService.getWeatherInfo(lengApiClient, weatherRequest);
    } catch (ApiException e) {
        throw new BusinessException(e.getCode(), e.getMessage());
    }
    return resultResponse;
}
```


